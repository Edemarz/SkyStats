<!DOCTYPE html>

<html lang="en">

<head>
    <title>SkyStats</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/CSS/Stats.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale.css" />
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <img src="/Resources/slyso234.png" class="skystats-img">&amp;
            <a class="navbar-brand" href="/"><strong>SkyStats</strong></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <button class="header-button expander info-button" id="info-box" aria-expanded="false"
                        data-tippy-content="">
                        About
                    </button>
                </ul>
            </div>
        </div>
    </nav>
    <div class="blur-box">
        <div class="player_profile">
            <span class="text-stats-for">Stats for</span>&ThickSpace;&ThickSpace;<span tabindex="0"
                class="stats_for_player">
                <%= username %>
            </span>&ThickSpace;&ThickSpace;<span class="text-on">on</span>&ThickSpace;&ThickSpace;<span
                class="text-skysim">SkySim</span>
        </div>
        <div class="player_socials">
            <a href="https://auctions.craftlink.xyz/players/<%= uuidData.raw_id %>" target="_blank" rel="noreferrer"
                class="additional-player-stat player-hyauction">HyAuctions</a>
            <a href="https://plancke.io/hypixel/player/stats/<%= username %>" target="_blank" rel="noreferrer"
                class="additional-player-stat player-plancke">Plancke</a>
        </div>
        <!--Skill Section-->
        <div class="skills">
            <!--Combat Section-->
            <div class="combat-skill">
                <div class="skill-icon-combat"
                    style="--skill_color: <%= skills.combat.hypermaxed ? '#dd980e' : '#0bca51' %>;">
                    <img src="/Resources/Combat_Sword.webp" alt="" class="combat-sword">
                </div>
                <div class="skill-name-combat">
                    <strong>Combat </strong><span class="skill-level">
                        <strong>
                            <%= skills.combat.level %>
                        </strong>
                    </span>
                </div>
                <div class="skill-progress-bar-grey-combat"
                    style="--left_side_bar: <%= skills.combat.skill_progression_percentage + 1.1 %>%; --width_bar: <%= skills.combat.greyPercentage + 0.3 %>%;">
                </div>
                <div class="skill-progress-bar-combat"
                    style="--progress_bar_color: <%= skills.combat.hypermaxed ? '#ce8f12' : '#0baa51' %>; --progress: <%= skills.combat.skill_progression_percentage %>%;">
                </div>
                <div class="skill-progress-text-combat" style="--left_side: <%= ((skills.combat.skill_progression_percentage + skills.combat.greyPercentage) + 0.3) / 2 %>%;
                    --min-text: <%= (skills.combat.level>= 60 ? `${skills.combat.abbrev} XP`.length :
                    `${skills.combat.abbrev}/${skills.combat.nextLevelXP} XP`.length) %>px;">
                    <%= skills.combat.level>= 60 ? `${skills.combat.abbrev} XP` :
                        `${skills.combat.currentSkillXP.abbrev}/${skills.combat.currentSkillXP.nextXPAbbrev} XP` %>
                </div>
            </div>
            <!--Mining Section-->
            <div class="mining-skill">
                <div class="skill-icon-mining"
                    style="--skill_color: <%= skills.mining.hypermaxed ? '#dd980e' : '#0bca51' %>;">
                    <img src="/Resources/Stone_Pickaxe.png" alt="" class="mining-sword">
                </div>
                <div class="skill-name-mining">
                    <strong>Mining </strong><span class="skill-level">
                        <strong>
                            <%= skills.mining.level %>
                        </strong>
                    </span>
                </div>
                <div class="skill-progress-bar-grey-mining"
                    style="--left_side_bar: <%= skills.mining.skill_progression_percentage + 1.1 %>%; --width_bar: <%= skills.mining.greyPercentage + 0.3 %>%;">
                </div>
                <div class="skill-progress-bar-mining"
                    style="--progress_bar_color: <%= skills.mining.hypermaxed ? '#ce8f12' : '#0baa51' %>; --progress: <%= skills.mining.skill_progression_percentage %>%;">
                </div>
                <div class="skill-progress-text-mining" style="--left_side: <%= ((skills.mining.skill_progression_percentage + skills.mining.greyPercentage) + 0.3) / 2 %>%;
                    --min-text: <%= (skills.mining.level>= 60 ? `${skills.mining.abbrev} XP`.length :
                    `${skills.mining.abbrev}/${skills.mining.nextLevelXP} XP`.length) %>px;">
                    <%= skills.mining.level>= 60 ? `${skills.mining.abbrev} XP` :
                        `${skills.mining.currentSkillXP.abbrev}/${skills.mining.currentSkillXP.nextXPAbbrev} XP` %>
                </div>
            </div>
            <!--Enchanting Skill-->
            <div class="enchanting-skill">
                <div class="skill-icon-enchanting"
                    style="--skill_color: <%= skills.enchanting.hypermaxed ? '#dd980e' : '#0bca51' %>;">
                    <img src="/Resources/Enchanting_Table.png" alt="" class="enchanting-sword">
                </div>
                <div class="skill-name-enchanting">
                    <strong>Enchanting </strong><span class="skill-enchanting">
                        <strong>
                            <%= skills.enchanting.level %>
                        </strong>
                    </span>
                </div>
                <div class="skill-progress-bar-grey-enchanting"
                    style="--left_side_bar: <%= skills.enchanting.skill_progression_percentage + 1.1 %>%; --width_bar: <%= skills.enchanting.greyPercentage + 0.3 %>%;">
                </div>
                <div class="skill-progress-bar-enchanting"
                    style="--progress_bar_color: <%= skills.enchanting.hypermaxed ? '#ce8f12' : '#0baa51' %>; --progress: <%= skills.enchanting.skill_progression_percentage %>%;">
                </div>
                <div class="skill-progress-text-enchanting" style="--left_side: <%= ((skills.enchanting.skill_progression_percentage + skills.enchanting.greyPercentage) + 0.3) / 2 %>%;
                    --min-text: <%= (skills.enchanting.level>= 60 ? `${skills.enchanting.abbrev} XP`.length :
                    `${skills.enchanting.abbrev}/${skills.enchanting.nextLevelXP} XP`.length) %>px;">
                    <%= skills.enchanting.level>= 60 ? `${skills.enchanting.abbrev} XP` :
                        `${skills.enchanting.currentSkillXP.abbrev}/${skills.enchanting.currentSkillXP.nextXPAbbrev} XP`
                        %>
                </div>
            </div>
            <!--Farming Skill-->
            <div class="farming-skill">
                <div class="skill-icon-farming"
                    style="--skill_color: <%= skills.farming.hypermaxed ? '#dd980e' : '#0bca51' %>;">
                    <img src="/Resources/Minecraft-goldenhoe.webp" alt="" class="farming-sword">
                </div>
                <div class="skill-name-farming">
                    <strong>Farming </strong><span class="skill-farming">
                        <strong>
                            <%= skills.farming.level %>
                        </strong>
                    </span>
                </div>
                <div class="skill-progress-bar-grey-farming"
                    style="--left_side_bar: <%= skills.farming.skill_progression_percentage + 1.1 %>%; --width_bar: <%= skills.farming.greyPercentage + 0.3 %>%;">
                </div>
                <div class="skill-progress-bar-farming"
                    style="--progress_bar_color: <%= skills.farming.hypermaxed ? '#ce8f12' : '#0baa51' %>; --progress: <%= skills.farming.skill_progression_percentage %>%;">
                </div>
                <div class="skill-progress-text-farming" style="--left_side: <%= ((skills.farming.skill_progression_percentage + skills.farming.greyPercentage) + 0.3) / 2 %>%; --min-text: <%= (skills.farming.level>= 60 ? `${skills.farming.abbrev} XP`.length :
                    `${skills.farming.abbrev}/${skills.farming.nextLevelXP} XP`.length) %>px;">
                    <%= skills.farming.level>= 60 ? `${skills.farming.abbrev} XP` :
                        `${skills.farming.currentSkillXP.abbrev}/${skills.farming.currentSkillXP.nextXPAbbrev} XP` %>
                </div>
            </div>
            <!--Foraging Section-->
            <div class="foraging-skill">
                <div class="skill-icon-foraging"
                    style="--skill_color: <%= skills.foraging.hypermaxed ? '#dd980e' : '#0bca51' %>;">
                    <img src="/Resources/Foraging_Icon_Sapling.webp" alt="" class="foraging-sword">
                </div>
                <div class="skill-name-foraging">
                    <strong>Foraging </strong><span class="skill-foraging">
                        <strong>
                            <%= skills.foraging.level %>
                        </strong>
                    </span>
                </div>
                <div class="skill-progress-bar-grey-foraging"
                    style="--left_side_bar: <%= skills.foraging.skill_progression_percentage + 1.1 %>%; --width_bar: <%= skills.foraging.greyPercentage + 0.3 %>%;">
                </div>
                <div class="skill-progress-bar-foraging"
                    style="--progress_bar_color: <%= skills.foraging.hypermaxed ? '#ce8f12' : '#0baa51' %>; --progress: <%= skills.foraging.skill_progression_percentage %>%;">
                </div>
                <div class="skill-progress-text-foraging" style="--left_side: <%= (((skills.foraging.skill_progression_percentage + skills.foraging.greyPercentage) + 0.3) / 2) %>%; --min-text: <%= (skills.foraging.level>= 60 ? `${skills.foraging.abbrev} XP`.length :
                    `${skills.foraging.abbrev}/${skills.foraging.nextLevelXP} XP`.length) %>px;">
                    <%= skills.foraging.level>= 60 ? `${skills.foraging.abbrev} XP` :
                        `${skills.foraging.currentSkillXP.abbrev}/${skills.foraging.currentSkillXP.nextXPAbbrev} XP` %>
                </div>
            </div>
            <!--Player Stats-->
            <div class="player-stats">
                <div class="health-stat">
                    <div class="heart-icon"></div>
                    <span class="health-text">Health</span>
                    <span class="health-value">
                        <%= userData['stats'].health?.toLocaleString() %>
                    </span>
                </div>
                <div class="defense-stat">
                    <div class="defense-icon"></div>
                    <span class="defense-text">Defense</span>
                    <span class="defense-value">
                        <%= userData['stats'].defense?.toLocaleString() %>
                    </span>
                </div>
                <div class="strength-stat">
                    <div class="strength-icon"></div>
                    <span class="strength-text">Strength</span>
                    <span class="strength-value">
                        <%= userData['stats'].strength?.toLocaleString() %>
                    </span>
                </div>
                <div class="speed-stat">
                    <div class="speed-icon"></div>
                    <span class="speed-text">Speed</span>
                    <span class="speed-value">
                        <%= userData['stats'].speed?.toLocaleString() %>
                    </span>
                </div>
            </div>
            <!--Purse, Bank, Bits Section etc-->
            <div class="player-statistics-misc">
                <span class="text-purse">Purse:</span>
                <span class="purse-value">
                    <%= userData.coins.abbrev %> Coins
                </span>
                <span class="text-bank">Bank:</span>
                <span class="bank-value">
                    <%= userData.coins.bank.abbrev %> Coins
                </span>
                <span class="text-bits">Bits:</span>
                <span class="bits-value">
                    <%= userData.bits.abbrev %> Bits
                </span>
            </div>
        </div>
        <!--Navbar Section-->
        <div class="nav_bar">
            <div class="nav_bar_line">
                <div class="nav_bar_background">
                    <!-- <div class="nav_items_container">
                        <a class="nav-item" href="#Slayers">Slayers</a>
                        <a class="nav-item" href="#Armor">Armor</a>
                    </div> -->
                </div>
            </div>
        </div>
        <!--Armor Section-->
        <div class="armors" id="Armor">
            <div class="text-armor">Armor</div>
            <div class="armor-inventory" style="color: white;">
                <% if (playerArmor.equippedItems===false) { %>
                    <span class="text-not-equip-armor">
                        <%= username %> doesn't have any armor equipped.
                    </span>
                    <% }; %>

                        <% if (playerArmor.equippedItems===true) { %>
                            <% let index=1; %>
                                <% playerArmor.withReforge.map((item)=> { %>
                                    <div tabindex="0" class="piece-<%= index %>"
                                        style="--background-color: <%= item === null ? '' : item.split('-')[1] %>;">
                                        <div class="piece-<%= index %>-icon"
                                            style="--item-icon: <%= playerArmor.noReforge[index - 1] === undefined ? 'url()' : `url('${playerArmor.noReforge[index - 1]?.itemTexture}')` %>;">
                                        </div>
                                    </div>
                                    <% index++; %>
                                        <% }); %>
                                            <% }; %>
            </div>
        </div>
        <!--Slayer Section-->
        <div id="Slayers" class="slayers">
            <div class="text-slayer">Slayer</div>
            <!--UPCOMING-->
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <!-- Tippy.JS Development-->
    <script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>
</body>

<script>
    // window.onload = function () {
    //     document.getElementById("post_method_form").onsubmit = function () { return false };
    // };

    tippy('[data-tippy-content]', {
        allowHTML: true,
        animation: 'scale',
        interactive: true,
        arrow: false,
        delay: [200, 100],
        placement: 'left',
        popperOptions: {
            modifiers: [
                {
                    name: 'flip',
                    options: {
                        fallbackPlacements: ['right', 'bottom']
                    }
                }
            ]
        },
        role: 'tooltip'
    });
</script>

</html>